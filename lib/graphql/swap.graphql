fragment swap on SwapResponse {
  id
  createdAt
  updatedAt
  bumpedAt
  slug
  name0
  name1
  description0
  description1
  price
  priceCurrency
  shippingCost
  shippingType
  totalPrice
  businessFunction
  status
  source
  images {
    ...image
  }
  group {
    ...groupProfile
  }
  productCategoryId
  proposer {
    ...author
  }
  brandId
  reports {
    ...report
  }
}

fragment swapPreview on SwapPreviewResponse {
  id
  createdAt
  updatedAt
  bumpedAt
  slug
  name0
  name1
  price
  priceCurrency
  shippingCost
  shippingType
  totalPrice
  businessFunction
  status
  source
  thumbnail {
    ...image
  }
  groupId
  productCategoryId
  proposer {
    ...user
  }
  brandId
  reports {
    ...report
  }
}

query findSwapPreviews(
  $where: JSON
  $orderBy: JSON
  $keyword: String
  $distinct: Boolean
  $cursor: ID
  $skip: Int!
  $take: Int!
) {
  findSwapPreviews(
    where: $where
    orderBy: $orderBy
    keyword: $keyword
    distinct: $distinct
    cursor: $cursor
    skip: $skip
    take: $take
  ) {
    edges {
      node {
        ...swapPreview
      }
      cursor
    }
    pageInfo {
      endCursor
      hasNextPage
    }
  }
}

query findSwap(
  $id: ID
  $slug: String
) {
  findSwap(
    id: $id
    slug: $slug
  ) {
    ...swap
  }
}

mutation CreateSwap($input: CreateSwapInput!) {
  createSwap(input: $input)
}

mutation UpdateSwap($input: UpdateSwapInput!) {
  updateSwap(input: $input) {
    id
    status
    name0
    name1
    price
    shippingCost
    shippingType
    totalPrice
  }
}

mutation BumpSwap($input: BumpSwapInput!) {
  bumpSwap(input: $input) {
    id
    bumpedAt
    price
    shippingCost
    shippingType
    totalPrice
  }
}

mutation CommentSwapReport($input: CommentSwapReportInput!) {
  commentSwapReport(input: $input)
}
