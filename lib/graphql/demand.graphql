fragment demand on DemandResponse {
  id
  createdAt
  updatedAt
  name
  slug
  description
  price
  priceCurrency
  businessFunction
  status
  source
  images {
    ...image
  }
  groupId
  productCategoryId
  buyer {
    ...buyer
  }
  brandId
}

fragment demandPreview on DemandPreviewResponse {
  id
  createdAt
  updatedAt
  name
  slug
  price
  priceCurrency
  businessFunction
  status
  source
  groupId
  productCategoryId
  buyer {
    username
  }
  brandId
}

query findDemandPreviews(
  $groupId: ID
  $productCategoryId: ID
  $buyerId: ID
  $status: String
  $keyword: String
  $cursor: ID
  $skip: Int!
  $take: Int!
) {
  findDemandPreviews(
    groupId: $groupId
    productCategoryId: $productCategoryId
    buyerId: $buyerId
    status: $status
    keyword: $keyword
    cursor: $cursor
    skip: $skip
    take: $take
  ) {
    edges {
      node {
        ...demandPreview
      }
      cursor
    }
    pageInfo {
      endCursor
      hasNextPage
    }
  }
}

query findDemandById(
  $id: ID!
) {
  findDemandById(
    id: $id
  ) {
    ...demand
  }
}

query findDemand(
  $slug: String!
) {
  findDemand(
    slug: $slug
  ) {
    ...demand
  }
}
