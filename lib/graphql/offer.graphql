fragment offer on OfferResponse {
  post {
    ...post
  }
  id
  createdAt
  updatedAt
  bumpedAt
  name0
  name1
  content
  price
  priceCurrency
  totalPrice
  shippingCost
  shippingType
  totalPrice
  businessFunction
  status
}

fragment offerPreview on OfferPreviewResponse {
  post {
    ...postPreviewWithUser
  }
  id
  createdAt
  updatedAt
  bumpedAt
  name0
  name1
  content
  price
  priceCurrency
  shippingCost
  shippingType
  totalPrice
  businessFunction
  status
  hasSubmittedReview
}

query FindOfferPreviews(
  $where: FindOfferPreviewsWhereInput
  $orderBy: FindOfferPreviewsOrderByInput
  $keyword: String
  $target: String
  $cursor: ID
  $skip: Int!
  $take: Int!
) {
  findOfferPreviews(
    where: $where
    orderBy: $orderBy
    keyword: $keyword
    target: $target
    cursor: $cursor
    skip: $skip
    take: $take
  ) {
    edges {
      node {
        ...offerPreview
      }
      cursor
    }
    pageInfo {
      endCursor
      hasNextPage
    }
  }
}

query FindOfferPreview(
  $id: ID
  $slug: String
) {
  findOfferPreview(
    id: $id
    slug: $slug
  ) {
    ...offerPreview
  }
}


query FindOffer(
  $id: ID
  $slug: String
) {
  findOffer(
    id: $id
    slug: $slug
  ) {
    ...offer
  }
}

mutation CreateOffer($input: CreateOfferInput!) {
  createOffer(input: $input) {
    ...mutationResponse
  }
}

mutation UpdateOffer($input: UpdateOfferInput!) {
  updateOffer(input: $input) {
    ...mutationResponse
  }
}

mutation DeleteOffer(
  $id: ID!
) {
  deleteOffer(
    id: $id
  ) {
    ...mutationResponse
  }
}

mutation BumpOffer($input: BumpOfferInput!) {
  bumpOffer(input: $input) {
    ...mutationResponse
  }
}
