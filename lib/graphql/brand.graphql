fragment followBrand on FollowBrandResponse {
  id
  brandId
  user {
    ...user
  }
}

fragment brandBase on BrandBaseResponse {
  id
  createdAt
  name
  slug
  description
  logo
}

fragment brandPreview on BrandPreviewResponse {
  id
  createdAt
  name
  slug
  description
  logo
  groups {
    ...groupProfile
  }
  categories {
    ...category
  }
  followed
}

fragment brandDetail on BrandDetailResponse {
  id
  createdAt
  name
  slug
  description
  logo
  groups {
    ...groupProfile
  }
  categories {
    ...category
  }
  links {
    ...link
  }
  followBrands {
    ...followBrand
  }
  followed
}

mutation CreateBrand($input: CreateBrandInput!) {
  createBrand(input: $input) {
    ...mutationResponse
  }
}

mutation FollowBrand($input: FollowBrandInput!) {
  followBrand(input: $input) {
    ...mutationResponse
  }
}

mutation UnfollowBrand($input: UnfollowBrandInput!) {
  unfollowBrand(input: $input) {
    ...mutationResponse
  }
}

query FindBrands(
  $where: FindBrandsWhereInput
  $orderBy: FindBrandsOrderByInput
  $keyword: String
  $target: String
  $cursor: ID
  $skip: Int!
  $take: Int!
) {
  findBrands(
    where: $where
    orderBy: $orderBy
    keyword: $keyword
    target: $target
    cursor: $cursor
    skip: $skip
    take: $take
  ) {
    edges {
      node {
        ...brandPreview
      }
      cursor
    }
    pageInfo {
      endCursor
      hasNextPage
    }
  }
}

query FindBrandPreview(
  $id: ID
  $slug: String
) {
  findBrandPreview(
    id: $id
    slug: $slug
  ) {
    ...brandPreview
  }
}

query FindBrand(
  $id: ID
  $slug: String
) {
  findBrand(
    id: $id
    slug: $slug
  ) {
    ...brandDetail
  }
}
