fragment role on RoleResponse {
  id
  name
  position
  hexColor
  guildId
}

fragment member on MemberWithRolesResponse {
  id
  createdAt
  userId
  guildId
  roles {
    ...role
  }
}

fragment user on UserResponse {
  id
  createdAt
  username
  avatarURL
  bot
}

fragment seller on AuthorResponse {
  id
  createdAt
  username
  avatarURL
  bot
  socialAccounts {
    ...socialAccountWithoutAuth
  }
  members {
    ...member
  }
}

fragment buyer on AuthorResponse {
  id
  createdAt
  username
  avatarURL
  bot
  socialAccounts {
    ...socialAccountWithoutAuth
  }
  members {
    ...member
  }
}

fragment proposer on AuthorResponse {
  id
  createdAt
  username
  avatarURL
  bot
  socialAccounts {
    ...socialAccountWithoutAuth
  }
  members {
    ...member
  }
}

fragment myUser on MyUserResponse {
  id
  createdAt
  username
  name
  phoneNumber
  avatarURL
  bot
  socialAccounts {
    ...socialAccount
  }
  members {
    ...member
  }
}

query findMyUserById(
  $id: ID!
) {
  findMyUserById(id: $id) {
    ...myUser
  }
}

query findMyUserBySocialAccount(
  $provider: String!
  $socialId: String!
) {
  findMyUserBySocialAccount(provider: $provider, socialId: $socialId) {
    ...myUser
  }
}

query findMyUserBySession(
  $sessionToken: String!
) {
  findMyUserBySession(sessionToken: $sessionToken) {
    ...myUser
  }
}

mutation createUser(
  $input: CreateUserInput!
) {
  createUser(input: $input) 
}

mutation updateUser(
  $input: UpdateUserInput!
) {
  updateUser(input: $input)
}

mutation deleteUser($id: ID!) {
  deleteUser(id: $id)
}
